"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const input_1 = __importDefault(require("@inquirer/input"));
const chalk_1 = __importDefault(require("chalk"));
const password = (config, context) => {
    if (config.transformer) {
        throw new Error('Inquirer password prompt do not support custom transformer function. Use the input prompt instead.');
    }
    return (0, input_1.default)(Object.assign(Object.assign({}, config), { default: undefined, transformer(input, { isFinal }) {
            if (config.mask) {
                return String(config.mask).repeat(input.length);
            }
            if (!isFinal) {
                return chalk_1.default.dim('[input is masked]');
            }
            return '';
        } }), context);
};
exports.default = password;
